{"level":50,"time":1691957790539,"pid":6476,"hostname":"GeorgiiGalechyan","reqId":"req-4","err":{"type":"ReferenceError","message":"app is not defined","stack":"ReferenceError: app is not defined\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/user.js:9:11)\n    at Object.createUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/user.js:5:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"},"msg":"app is not defined"}
{"level":50,"time":1691957790540,"pid":6476,"hostname":"GeorgiiGalechyan","reqId":"req-4","msg":"Error adding user '111' to table 'users'","Message":"app is not defined","Stack":"ReferenceError: app is not defined\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/user.js:9:11)\n    at Object.createUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/user.js:5:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"}
{"level":50,"time":1691957790540,"pid":6476,"hostname":"GeorgiiGalechyan","reqId":"req-4","req":{"method":"POST","url":"/reg","hostname":"localhost:5000","remoteAddress":"::1","remotePort":62117},"res":{"statusCode":500},"err":{"type":"ReferenceError","message":"app is not defined","stack":"ReferenceError: app is not defined\n    at Object.createUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/user.js:34:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"app is not defined"}
{"level":50,"time":1691957869344,"pid":7792,"hostname":"GeorgiiGalechyan","reqId":"req-1","req":{"method":"POST","url":"/reg","hostname":"localhost:5000","remoteAddress":"::1","remotePort":62143},"res":{"statusCode":500},"err":{"type":"ReferenceError","message":"app is not defined","stack":"ReferenceError: app is not defined\n    at Object.createUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/user.js:35:7)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)\n    at IncomingMessage.onEnd (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:273:27)"},"msg":"app is not defined"}
{"level":50,"time":1691957914477,"pid":4208,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691957914478,"pid":4208,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user '111' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691958034643,"pid":11916,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691958078923,"pid":11848,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691960573199,"pid":13340,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691960650821,"pid":4816,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691960704007,"pid":10260,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691961107683,"pid":11112,"hostname":"GeorgiiGalechyan","reqId":"req-2","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691961283405,"pid":13500,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691962653893,"pid":4996,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
