{"level":50,"time":1690983012027,"pid":2356,"hostname":"GeorgiGalechyan","reqId":"req-1","err":{"type":"DatabaseError","message":"duplicate key value violates unique constraint \"users_login_key\"","stack":"error: duplicate key value violates unique constraint \"users_login_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13","length":197,"name":"error","severity":"ERROR","code":"23505","detail":"Key (login)=(test1) already exists.","schema":"public","table":"users","constraint":"users_login_key","file":"nbtinsert.c","line":"649","routine":"_bt_check_unique"},"msg":"duplicate key value violates unique constraint \"users_login_key\""}
{"level":50,"time":1690983012028,"pid":2356,"hostname":"GeorgiGalechyan","msg":"Error adding user 'test1' to table 'users'","Error code":"23505","Message":"duplicate key value violates unique constraint \"users_login_key\"","Detail":"Key (login)=(test1) already exists.","DB table":"users","DB constraint":"users_login_key","Stack":"error: duplicate key value violates unique constraint \"users_login_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13"}
{"level":50,"time":1690983646646,"pid":2888,"hostname":"GeorgiGalechyan","reqId":"req-1","err":{"type":"DatabaseError","message":"duplicate key value violates unique constraint \"users_login_key\"","stack":"error: duplicate key value violates unique constraint \"users_login_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13","length":197,"name":"error","severity":"ERROR","code":"23505","detail":"Key (login)=(test1) already exists.","schema":"public","table":"users","constraint":"users_login_key","file":"nbtinsert.c","line":"649","routine":"_bt_check_unique"},"msg":"duplicate key value violates unique constraint \"users_login_key\""}
{"level":50,"time":1690983646647,"pid":2888,"hostname":"GeorgiGalechyan","msg":"Error adding user 'test1' to table 'users'","Error code":"23505","Message":"duplicate key value violates unique constraint \"users_login_key\"","Detail":"Key (login)=(test1) already exists.","DB table":"users","DB constraint":"users_login_key","Stack":"error: duplicate key value violates unique constraint \"users_login_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13"}
{"level":50,"time":1691048601353,"pid":11064,"hostname":"GeorgiGalechyan","err":{"type":"ReferenceError","message":"address is not defined","stack":"ReferenceError: address is not defined\n    at start (file:///C:/Users/galec/Dev/Lottery/backend-lottery/server.js:27:19)\n    at file:///C:/Users/galec/Dev/Lottery/backend-lottery/app.js:32:1\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"address is not defined"}
{"level":50,"time":1691067985912,"pid":14964,"hostname":"GeorgiGalechyan","reqId":"req-1","err":{"type":"DatabaseError","message":"duplicate key value violates unique constraint \"users_login_key\"","stack":"error: duplicate key value violates unique constraint \"users_login_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13","length":197,"name":"error","severity":"ERROR","code":"23505","detail":"Key (login)=(test1) already exists.","schema":"public","table":"users","constraint":"users_login_key","file":"nbtinsert.c","line":"649","routine":"_bt_check_unique"},"msg":"duplicate key value violates unique constraint \"users_login_key\""}
{"level":50,"time":1691067985914,"pid":14964,"hostname":"GeorgiGalechyan","reqId":"req-1","msg":"Error adding user 'test1' to table 'users'","Error code":"23505","Message":"duplicate key value violates unique constraint \"users_login_key\"","Detail":"Key (login)=(test1) already exists.","DB table":"users","DB constraint":"users_login_key","Stack":"error: duplicate key value violates unique constraint \"users_login_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13"}
{"level":50,"time":1691246434388,"pid":4340,"hostname":"GeorgiGalechyan","reqId":"req-1","err":{"type":"DatabaseError","message":"duplicate key value violates unique constraint \"users_email_key\"","stack":"error: duplicate key value violates unique constraint \"users_email_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13","length":206,"name":"error","severity":"ERROR","code":"23505","detail":"Key (email)=(test1@inbox.ru) already exists.","schema":"public","table":"users","constraint":"users_email_key","file":"nbtinsert.c","line":"649","routine":"_bt_check_unique"},"msg":"duplicate key value violates unique constraint \"users_email_key\""}
{"level":50,"time":1691246434390,"pid":4340,"hostname":"GeorgiGalechyan","reqId":"req-1","msg":"Error adding user 'test2' to table 'users'","Error code":"23505","Message":"duplicate key value violates unique constraint \"users_email_key\"","Detail":"Key (email)=(test1@inbox.ru) already exists.","DB table":"users","DB constraint":"users_email_key","Stack":"error: duplicate key value violates unique constraint \"users_email_key\"\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:526:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:46:13"}
{"level":50,"time":1691246735261,"pid":5564,"hostname":"GeorgiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"str.charAt is not a function","stack":"TypeError: str.charAt is not a function\n    at parse (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:10:11)\n    at new ConnectionParameters (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)\n    at BoundPool.transact (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:50:10)\n    at createNewUser (file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:45:28)"},"msg":"str.charAt is not a function"}
{"level":50,"time":1691246735262,"pid":5564,"hostname":"GeorgiGalechyan","reqId":"req-1","msg":"Error adding user 'test4' to table 'users'","Message":"str.charAt is not a function","Stack":"TypeError: str.charAt is not a function\n    at parse (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:10:11)\n    at new ConnectionParameters (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)\n    at BoundPool.transact (C:\\Users\\galec\\Dev\\Lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:50:10)\n    at createNewUser (file:///C:/Users/galec/Dev/Lottery/backend-lottery/src/routes/register.js:45:28)"}
{"level":50,"time":1691249890378,"pid":7640,"hostname":"GeorgiGalechyan","reqId":"req-5","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691249890378,"pid":7640,"hostname":"GeorgiGalechyan","reqId":"req-5","msg":"Error adding user 'test7' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)"}
{"level":50,"time":1691249914719,"pid":10752,"hostname":"GeorgiGalechyan","reqId":"req-1","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691249914720,"pid":10752,"hostname":"GeorgiGalechyan","reqId":"req-1","msg":"Error adding user 'test7' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)"}
{"level":50,"time":1691263357758,"pid":9016,"hostname":"GeorgiiGalechyan","reqId":"req-2","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691263357758,"pid":9016,"hostname":"GeorgiiGalechyan","reqId":"req-2","msg":"Error adding user 'tes' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)"}
{"level":50,"time":1691263755364,"pid":5640,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691263755364,"pid":5640,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)"}
{"level":50,"time":1691263903778,"pid":3684,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691263903779,"pid":3684,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)"}
{"level":50,"time":1691264473858,"pid":14852,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'transact')","stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:45:28)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"},"msg":"Cannot read properties of undefined (reading 'transact')"}
{"level":50,"time":1691264473859,"pid":14852,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Message":"Cannot read properties of undefined (reading 'transact')","Stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:45:28)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"}
{"level":50,"time":1691264579171,"pid":3824,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691264579171,"pid":3824,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)"}
{"level":50,"time":1691266838544,"pid":13872,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'transact')","stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:45:36)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"},"msg":"Cannot read properties of undefined (reading 'transact')"}
{"level":50,"time":1691266838544,"pid":13872,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Message":"Cannot read properties of undefined (reading 'transact')","Stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:45:36)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"}
{"level":50,"time":1691267171226,"pid":5092,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'transact')","stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:45:37)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"},"msg":"Cannot read properties of undefined (reading 'transact')"}
{"level":50,"time":1691267171227,"pid":5092,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Message":"Cannot read properties of undefined (reading 'transact')","Stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:45:37)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"}
{"level":50,"time":1691267989158,"pid":14472,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'transact')","stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:46:20)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"},"msg":"Cannot read properties of undefined (reading 'transact')"}
{"level":50,"time":1691267989159,"pid":14472,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Message":"Cannot read properties of undefined (reading 'transact')","Stack":"TypeError: Cannot read properties of undefined (reading 'transact')\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:46:20)\n    at Object.<anonymous> (file:///C:/Users/galec/dev/lottery/backend-lottery/src/routes/register.js:41:13)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"}
{"level":50,"time":1691268013242,"pid":7664,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691268013242,"pid":7664,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)"}
{"level":50,"time":1691268691473,"pid":13872,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},"msg":"connect ECONNREFUSED ::1:5432"}
{"level":50,"time":1691268691473,"pid":13872,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes' to table 'users'","Error code":"ECONNREFUSED","Message":"connect ECONNREFUSED ::1:5432","Stack":"Error: connect ECONNREFUSED ::1:5432\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)"}
{"level":50,"time":1691269955404,"pid":14940,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691269955405,"pid":14940,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes3' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691269975926,"pid":14940,"hostname":"GeorgiiGalechyan","reqId":"req-2","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691269975927,"pid":14940,"hostname":"GeorgiiGalechyan","reqId":"req-2","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691269998466,"pid":308,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691269998467,"pid":308,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691270478036,"pid":6304,"hostname":"GeorgiiGalechyan","reqId":"req-3","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691270478037,"pid":6304,"hostname":"GeorgiiGalechyan","reqId":"req-3","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691270488467,"pid":8440,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691270488468,"pid":8440,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691270503498,"pid":15100,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691270503499,"pid":15100,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691270514156,"pid":15100,"hostname":"GeorgiiGalechyan","reqId":"req-2","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691270514156,"pid":15100,"hostname":"GeorgiiGalechyan","reqId":"req-2","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691270771818,"pid":2768,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"TypeError","message":"Invalid URL","stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)","input":"postgres://undefined:undefined@undefined:undefined/undefined","code":"ERR_INVALID_URL"},"msg":"Invalid URL"}
{"level":50,"time":1691270771819,"pid":2768,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes4' to table 'users'","Error code":"ERR_INVALID_URL","Message":"Invalid URL","Stack":"TypeError [ERR_INVALID_URL]: Invalid URL\n    at new NodeError (node:internal/errors:405:5)\n    at new URL (node:internal/url:611:13)\n    at parse (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-connection-string\\index.js:29:14)\n    at new ConnectionParameters (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\connection-parameters.js:56:42)\n    at new Client (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg\\lib\\client.js:18:33)\n    at BoundPool.newClient (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:218:20)\n    at BoundPool.connect (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\pg-pool\\index.js:212:10)\n    at transactionUtil (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:11:8)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\@fastify\\postgres\\index.js:51:5\n    at new Promise (<anonymous>)"}
{"level":50,"time":1691321089614,"pid":7040,"hostname":"GeorgiiGalechyan","reqId":"req-1","req":{"method":"POST","url":"/reg","hostname":"localhost:5500","remoteAddress":"::1","remotePort":51322},"res":{"statusCode":500},"err":{"type":"ReferenceError","message":"request is not defined","stack":"ReferenceError: request is not defined\n    at Object.createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:33:84)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)\n    at IncomingMessage.onEnd (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:273:27)"},"msg":"request is not defined"}
{"level":50,"time":1691321176323,"pid":2724,"hostname":"GeorgiiGalechyan","reqId":"req-1","req":{"method":"POST","url":"/reg","hostname":"localhost:5500","remoteAddress":"::1","remotePort":51339},"res":{"statusCode":500},"err":{"type":"ReferenceError","message":"request is not defined","stack":"ReferenceError: request is not defined\n    at Object.createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:33:84)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)\n    at IncomingMessage.onEnd (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:273:27)"},"msg":"request is not defined"}
{"level":50,"time":1691321244810,"pid":9136,"hostname":"GeorgiiGalechyan","reqId":"req-1","err":{"type":"ReferenceError","message":"app is not defined","stack":"ReferenceError: app is not defined\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:8:9)\n    at Object.createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:4:11)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"},"msg":"app is not defined"}
{"level":50,"time":1691321244812,"pid":9136,"hostname":"GeorgiiGalechyan","reqId":"req-1","msg":"Error adding user 'tes4' to table 'users'","Message":"app is not defined","Stack":"ReferenceError: app is not defined\n    at createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:8:9)\n    at Object.createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:4:11)\n    at preHandlerCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:139:37)\n    at validationCompleted (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:123:5)\n    at preValidationCallback (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:99:5)\n    at handler (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\handleRequest.js:76:7)\n    at C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:192:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at done (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:186:14)\n    at Parser.defaultJsonParser [as fn] (C:\\Users\\galec\\dev\\lottery\\backend-lottery\\node_modules\\fastify\\lib\\contentTypeParser.js:294:5)"}
{"level":50,"time":1691321244814,"pid":9136,"hostname":"GeorgiiGalechyan","reqId":"req-1","req":{"method":"POST","url":"/reg","hostname":"localhost:5500","remoteAddress":"::1","remotePort":51353},"res":{"statusCode":500},"err":{"type":"ReferenceError","message":"app is not defined","stack":"ReferenceError: app is not defined\n    at Object.createNewUser (file:///C:/Users/galec/dev/lottery/backend-lottery/src/controllers/usersController.js:33:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"app is not defined"}
